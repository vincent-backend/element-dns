(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f252e4c2"],{"6da3":function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t._self._c;return a("div",{},[a("div",{staticClass:"domin-manage"},[t._v(t._s(this.data.tn)+" 节点资源 "),a("el-select",{attrs:{placeholder:"切换节点"},on:{change:t.goToIp},model:{value:t.toip,callback:function(a){t.toip=a},expression:"toip"}},t._l(t.ipl,(function(t){return a("el-option",{key:t.ip,attrs:{label:`${t.name}_${t.ip}`,value:t.ip}})})),1),t._v(" "),a("el-button",{staticStyle:{width:"80px",margin:"0px 20px"},attrs:{type:"primary"},on:{click:t.sub00}},[t._v("实时")]),"5m"!=t.t?a("el-button",{staticStyle:{width:"80px",margin:"0px 20px"},attrs:{type:"primary"},on:{click:t.sub5m}},[t._v("五分钟")]):t._e(),"1h"!=t.t?a("el-button",{staticStyle:{width:"80px",margin:"0px 20px"},attrs:{type:"primary"},on:{click:t.sub1h}},[t._v("按小时")]):t._e(),"1d"!=t.t?a("el-button",{staticStyle:{width:"80px",margin:"0px 20px"},attrs:{type:"primary"},on:{click:t.sub1d}},[t._v("按天")]):t._e()],1),a("el-row",{attrs:{gutter:25}},[a("el-col",{attrs:{span:24}},[a("el-card",{staticClass:"box-card tab"},[a("div",{ref:"main",staticStyle:{width:"100%",height:"330px",top:"10px"}})])],1)],1),a("el-row",{attrs:{gutter:25}},[a("el-col",{attrs:{span:24}},[a("el-card",{staticClass:"box-card tab"},[a("div",{ref:"main1",staticStyle:{width:"100%",height:"330px",top:"10px"}})])],1)],1),a("el-row",{attrs:{gutter:25}},[a("el-col",{attrs:{span:24}},[a("el-card",{staticClass:"box-card tab"},[a("div",{ref:"main4",staticStyle:{width:"100%",height:"330px",top:"10px"}})])],1)],1),a("el-row",{attrs:{gutter:25}},[a("el-col",{attrs:{span:24}},[a("el-card",{staticClass:"box-card tab"},[a("div",{ref:"main2",staticStyle:{width:"100%",height:"330px",top:"10px"}})])],1)],1),a("el-row",{attrs:{gutter:25}},[a("el-col",{attrs:{span:24}},[a("el-card",{staticClass:"box-card tab"},[a("div",{ref:"main5",staticStyle:{width:"100%",height:"330px",top:"10px"}})])],1)],1)],1)},s=[],o=(e("14d9"),e("313e")),r=e.n(o),l={name:"",components:{},data(){return{data:{},ipl:{},toip:"",t:"",otimer:null}},computed:{},watch:{},methods:{sub00(){this.$router.push("/node/top?ip="+this.$route.query.ip)},sub5m(){this.$router.push("/node/chart?ip="+this.$route.query.ip+"&t=5m"),this.count()},sub1h(){this.$router.push("/node/chart?ip="+this.$route.query.ip+"&t=1h"),this.count()},sub1d(){this.$router.push("/node/chart?ip="+this.$route.query.ip+"&t=1d"),this.count()},goToIp(){this.$router.push("/node/chart?ip="+this.toip+"&t="+this.$route.query.t),this.count()},echart(){var t=r.a.init(this.$refs.main),a={xAxis:{type:"category",data:[]},grid:{x:50,x2:30,y:50,y2:38},yAxis:{type:"value",min:0,max:this.data.dmi.lmx,interval:this.data.dmi.liv,axisLabel:{show:!0},axisTick:{show:!0},axisLine:{show:!0}},title:{left:"35px",text:"系统负载"},tooltip:{trigger:"axis"},legend:{data:["1min","5min","15min"]},series:[{data:[],name:"1min",type:"line",showSymbol:!0,hoverAnimation:!0,data:[],symbolSize:8,showSymbol:!0},{data:[],name:"5min",type:"line",showSymbol:!0,hoverAnimation:!0,data:[],symbolSize:8,showSymbol:!0,itemStyle:{normal:{color:"blue",lineStyle:{color:"blue"}}}},{data:[],name:"15min",type:"line",showSymbol:!0,hoverAnimation:!0,data:[],symbolSize:8,showSymbol:!0,itemStyle:{normal:{color:"orange",lineStyle:{color:"orange"}}}}]};a.xAxis.data=this.data.load.map(t=>t.time),a.series[0].data=this.data.load.map(t=>t.load1),a.series[1].data=this.data.load.map(t=>t.load5),a.series[2].data=this.data.load.map(t=>t.load15),t.setOption(a)},echart1(){var t=r.a.init(this.$refs.main1),a={xAxis:{type:"category",data:[]},grid:{x:50,x2:30,y:50,y2:38},yAxis:{type:"value",min:0,max:this.data.dmi.mmx,interval:this.data.dmi.miv,axisLabel:{show:!0},axisTick:{show:!0},axisLine:{show:!0}},title:{left:"35px",text:"内存使用",subtext:"单位（G）"},tooltip:{trigger:"axis"},legend:{data:["使用内存","空闲内存"]},series:[{data:[],name:"使用内存",type:"line",showSymbol:!0,hoverAnimation:!0,data:[],symbolSize:8,showSymbol:!0,itemStyle:{normal:{color:"blue",lineStyle:{color:"blue"}}}},{data:[],name:"空闲内存",type:"line",showSymbol:!0,hoverAnimation:!0,data:[],symbolSize:8,showSymbol:!0,itemStyle:{normal:{color:"orange",lineStyle:{color:"orange"}}}}]};a.xAxis.data=this.data.mem.map(t=>t.time),a.series[0].data=this.data.mem.map(t=>t.used),a.series[1].data=this.data.mem.map(t=>t.free),t.setOption(a)},echart2(){var t=r.a.init(this.$refs.main2),a={xAxis:{type:"category",data:[]},grid:{x:50,x2:30,y:50,y2:38},yAxis:{type:"value",min:0,max:this.data.dmi.nmx,interval:this.data.dmi.niv,axisLabel:{show:!0},axisTick:{show:!0},axisLine:{show:!0}},title:{left:"35px",text:"流量",subtext:"单位（M）"},tooltip:{trigger:"axis"},legend:{data:["发送流量","接收流量"]},series:[{data:[],name:"发送流量",type:"line",showSymbol:!0,hoverAnimation:!0,data:[],symbolSize:8,showSymbol:!0,itemStyle:{normal:{color:"blue",lineStyle:{color:"blue"}}}},{data:[],name:"接收流量",type:"line",showSymbol:!0,hoverAnimation:!0,data:[],symbolSize:8,showSymbol:!0,itemStyle:{normal:{color:"orange",lineStyle:{color:"orange"}}}}]};a.xAxis.data=this.data.net.map(t=>t.time),a.series[0].data=this.data.net.map(t=>t.bytesSent),a.series[1].data=this.data.net.map(t=>t.bytesRecv),t.setOption(a)},echart4(){var t=r.a.init(this.$refs.main4),a={xAxis:{type:"category",data:[]},grid:{x:50,x2:30,y:50,y2:38},yAxis:{type:"value",min:0,max:this.data.dmi.dmx,interval:this.data.dmi.div,axisLabel:{show:!0},axisTick:{show:!0},axisLine:{show:!0}},title:{left:"35px",text:"磁盘使用",subtext:"单位（G）"},tooltip:{trigger:"axis"},legend:{data:["使用磁盘","空闲磁盘"]},series:[{data:[],name:"使用磁盘",type:"line",showSymbol:!0,hoverAnimation:!0,data:[],symbolSize:8,showSymbol:!0,itemStyle:{normal:{color:"blue",lineStyle:{color:"blue"}}}},{data:[],name:"空闲磁盘",type:"line",showSymbol:!0,hoverAnimation:!0,data:[],symbolSize:8,showSymbol:!0,itemStyle:{normal:{color:"orange",lineStyle:{color:"orange"}}}}]};a.xAxis.data=this.data.disk.map(t=>t.time),a.series[0].data=this.data.disk.map(t=>t.used),a.series[1].data=this.data.disk.map(t=>t.free),t.setOption(a)},echart5(){var t=r.a.init(this.$refs.main5),a={xAxis:{type:"category",data:[]},grid:{x:50,x2:30,y:50,y2:38},yAxis:{type:"value",min:0,max:this.data.dmi.wmx,interval:this.data.dmi.wiv,axisLabel:{show:!0},axisTick:{show:!0},axisLine:{show:!0}},title:{left:"35px",text:"平均带宽",subtext:"单位（M）"},tooltip:{trigger:"axis"},legend:{data:["进带宽","出带宽"]},series:[{data:[],name:"进带宽",type:"line",showSymbol:!0,hoverAnimation:!0,data:[],symbolSize:8,showSymbol:!0,itemStyle:{normal:{color:"blue",lineStyle:{color:"blue"}}}},{data:[],name:"出带宽",type:"line",showSymbol:!0,hoverAnimation:!0,data:[],symbolSize:8,showSymbol:!0,itemStyle:{normal:{color:"orange",lineStyle:{color:"orange"}}}}]};a.xAxis.data=this.data.net.map(t=>t.time),a.series[0].data=this.data.net.map(t=>t.inbw),a.series[1].data=this.data.net.map(t=>t.outbw),t.setOption(a)},count(){this.$request({url:"/domain/reslog/get",params:{ip:this.$route.query.ip,t:this.$route.query.t}}).then(t=>{0==t.data.rec?(this.t=this.$route.query.t,this.data=t.data.data,this.echart(),this.echart1(),this.echart2(),this.echart4(),this.echart5()):this.$message.error(t.data.msg)}),this.otimer=setInterval(()=>{this.$request({url:"/domain/reslog/get",params:{ip:this.$route.query.ip,t:this.$route.query.t}}).then(t=>{0==t.data.rec?(this.data=t.data.data,this.echart(),this.echart1(),this.echart2(),this.echart4(),this.echart5()):clearInterval(this.otimer)})},3e5)},getIpList(){this.$request({url:"/domain/res/ip/list"}).then(t=>{0==t.data.rec?this.ipl=t.data.data:this.$message.error(t.data.msg)})}},created(){},mounted(){this.t=this.$route.query.t,this.getIpList(),this.count(),this.$once("hook:beforeDestroy",()=>{clearInterval(this.otimer)})}},n=l,h=(e("9655"),e("2877")),m=Object(h["a"])(n,i,s,!1,null,"b0d89108",null);a["default"]=m.exports},9655:function(t,a,e){"use strict";e("e9cb")},e9cb:function(t,a,e){}}]);