(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d2acf18e"],{"00ee":function(t,e,i){"use strict";var o=i("b622"),a=o("toStringTag"),s={};s[a]="z",t.exports="[object z]"===String(s)},"13e6":function(t,e,i){},"255f":function(t,e,i){},"271a":function(t,e,i){"use strict";var o=i("cb2d"),a=i("e330"),s=i("577e"),n=i("d6d6"),r=URLSearchParams,l=r.prototype,c=a(l.getAll),d=a(l.has),u=new r("a=1");!u.has("a",2)&&u.has("a",void 0)||o(l,"has",(function(t){var e=arguments.length,i=e<2?void 0:arguments[1];if(e&&void 0===i)return d(this,t);var o=c(this,t);n(e,1);var a=s(i),r=0;while(r<o.length)if(o[r++]===a)return!0;return!1}),{enumerable:!0,unsafe:!0})},5494:function(t,e,i){"use strict";var o=i("83ab"),a=i("e330"),s=i("edd0"),n=URLSearchParams.prototype,r=a(n.forEach);o&&!("size"in n)&&s(n,"size",{get:function(){var t=0;return r(this,(function(){t++})),t},configurable:!0,enumerable:!0})},"577e":function(t,e,i){"use strict";var o=i("f5df"),a=String;t.exports=function(t){if("Symbol"===o(t))throw new TypeError("Cannot convert a Symbol value to a string");return a(t)}},"5dc2":function(t,e,i){"use strict";i.r(e);i("14d9");var o=function(){var t=this,e=t._self._c;return e("div",{staticClass:"domain-container"},[e("div",{staticClass:"domin-manage"},[t._v("域名解析")]),e("div",{staticClass:"toolbar-container"},[e("div",{staticClass:"toolbar-buttons"},[e("el-button",{staticClass:"right-space add",attrs:{type:"primary"},on:{click:function(e){t.dialogFormVisible=!0}}},[t._v("添加域名")]),e("el-dialog",{staticClass:"dialog",attrs:{title:"添加域名",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[e("el-form",{attrs:{model:t.addForm,rules:t.addDominRules}},[e("el-form-item",{attrs:{label:"域名：","label-width":"65px",prop:"domain"}},[e("el-input",{attrs:{autocomplete:"off",placeholder:"如dnsbm.com"},model:{value:t.addForm.domain,callback:function(e){t.$set(t.addForm,"domain",e)},expression:"addForm.domain"}})],1),e("el-form-item",{attrs:{label:"套餐：","label-width":"65px"}},[e("el-select",{attrs:{placeholder:"请选择"},model:{value:t.addForm.pid,callback:function(e){t.$set(t.addForm,"pid",e)},expression:"addForm.pid"}},[e("el-option",{attrs:{label:"默认",value:"0"}}),t._l(t.productList,(function(t,i){return e("el-option",{key:i,attrs:{label:t.name,value:t.id}})}))],2)],1),e("el-form-item",{attrs:{label:"分组：","label-width":"65px"}},[e("el-select",{attrs:{placeholder:"请选择"},model:{value:t.addForm.gid,callback:function(e){t.$set(t.addForm,"gid",e)},expression:"addForm.gid"}},[e("el-option",{attrs:{label:"添加分组",value:"添加分组"},nativeOn:{click:function(e){return t.addGroup.apply(null,arguments)}}}),t._l(t.groupList,(function(t,i){return e("el-option",{key:i,attrs:{label:t.name,value:t.id}})}))],2)],1),e("el-form-item",{attrs:{label:"备注：","label-width":"65px"}},[e("el-input",{attrs:{type:"textarea",rows:2,placeholder:" 备注"},model:{value:t.addForm.note,callback:function(e){t.$set(t.addForm,"note",e)},expression:"addForm.note"}})],1)],1),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),e("el-button",{staticClass:"confirm",on:{click:t.addDomin}},[t._v("确 定")])],1)],1),e("el-button",{staticClass:"right-space addf",on:{click:function(e){t.dialogFormVisiblef=!0}}},[t._v("快速添加")]),e("el-dialog",{staticClass:"dialog",attrs:{title:"快速添加",visible:t.dialogFormVisiblef},on:{"update:visible":function(e){t.dialogFormVisiblef=e}}},[e("el-form",{attrs:{model:t.addFormf,rules:t.addDominRulesf}},[e("el-form-item",{attrs:{label:"域名：","label-width":"80px",prop:"domain"}},[e("el-input",{attrs:{autocomplete:"off",placeholder:"如dnsbm.com"},model:{value:t.addFormf.domain,callback:function(e){t.$set(t.addFormf,"domain",e)},expression:"addFormf.domain"}})],1),e("el-form-item",{attrs:{label:"IP地址:","label-width":"80px"}},[e("el-input",{attrs:{autocomplete:"off",placeholder:"输入IP地址，默认增加@,www两个主机头"},model:{value:t.addFormf.ip,callback:function(e){t.$set(t.addFormf,"ip",e)},expression:"addFormf.ip"}})],1),e("el-form-item",{attrs:{label:"套餐：","label-width":"80px"}},[e("el-select",{attrs:{placeholder:"请选择"},model:{value:t.addForm.pid,callback:function(e){t.$set(t.addForm,"pid",e)},expression:"addForm.pid"}},[e("el-option",{attrs:{label:"默认",value:"0"}}),t._l(t.productList,(function(t,i){return e("el-option",{key:i,attrs:{label:t.name,value:t.id}})}))],2)],1)],1),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){t.dialogFormVisiblef=!1}}},[t._v("取 消")]),e("el-button",{staticClass:"confirm",on:{click:t.addDominf}},[t._v("确 定")])],1)],1),e("el-dropdown",{staticClass:"right-space",attrs:{placement:"bottom"}},[e("el-button",{attrs:{plain:""}},[t._v(" 导出域名 "),e("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e("el-dropdown-menu",{staticClass:"drop",attrs:{slot:"dropdown"},slot:"dropdown"},[e("el-dropdown-item",{nativeOn:{click:function(e){return t.handleDownload.apply(null,arguments)}}},[t._v("导出域名")]),e("el-dropdown-item",{nativeOn:{click:function(e){return t.handleDownload1.apply(null,arguments)}}},[t._v("导出域名和记录")])],1)],1),e("el-dropdown",{staticClass:"right-space",attrs:{placement:"bottom"}},[e("el-button",{attrs:{plain:""}},[t._v(" 批量操作 "),e("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[e("el-dropdown-item",{nativeOn:{click:function(e){return t.$router.push("/domin/operate?add="+t.add)}}},[t._v("添加域名")]),e("el-dropdown-item",{nativeOn:{click:function(e){return t.$router.push("/domin/operate?deld="+t.del)}}},[t._v("删除域名")]),e("el-dropdown-item",{nativeOn:{click:function(e){return t.$router.push("/domin/operate?record="+t.record)}}},[t._v("添加解析")]),e("el-dropdown-item",{nativeOn:{click:function(e){return t.$router.push("/domin/operate?update="+t.update)}}},[t._v("修改解析")]),e("el-dropdown-item",{nativeOn:{click:function(e){return t.$router.push("/domin/operate?del="+t.del)}}},[t._v("删除/启用/暂停")]),e("el-dropdown-item",{nativeOn:{click:function(e){return t.$router.push("/domin/operate?addr="+t.addr)}}},[t._v("批量添加解析或导入")])],1)],1)],1),e("div",{staticClass:"search-bar"},[e("el-input",{staticClass:"right-space",attrs:{placeholder:"域名"},model:{value:t.searchVal,callback:function(e){t.searchVal=e},expression:"searchVal"}}),e("el-button",{attrs:{ghost:""},on:{click:t.search}},[t._v("搜索")])],1)]),e("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{size:"small",id:"out-table","header-cell-style":t.fun,stripe:"",data:t.domainList,"tooltip-effect":"dark"},on:{"selection-change":t.handleSelectionChange}},[e("el-table-column",{attrs:{type:"selection",width:"55"}}),e("el-table-column",{attrs:{prop:"name",label:"域名",width:"380"}}),e("el-table-column",{attrs:{prop:"state","show-overflow-tooltip":"",width:"120"},scopedSlots:t._u([{key:"default",fn:function(i){return[i.row.is_on?e("el-tag",{attrs:{type:"success"}},[t._v("正常")]):e("el-tag",{attrs:{type:"warning"}},[t._v("暂停")])]}}])},[e("template",{slot:"header"},[e("el-dropdown",{attrs:{placement:"bottom"}},[e("el-button",{staticClass:"head-color",staticStyle:{"font-size":"16px"},attrs:{type:"text"}},[t._v(" 状态 "),e("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[e("el-dropdown-item",{nativeOn:{click:function(e){return t.stateList(0)}}},[t._v("全部")]),e("el-dropdown-item",{nativeOn:{click:function(e){return t.stateList(1)}}},[t._v("正常")]),e("el-dropdown-item",{nativeOn:{click:function(e){return t.stateList(2)}}},[t._v("暂停")])],1)],1)],1)],2),e("el-table-column",{attrs:{prop:"inn",label:"NS接入",width:"100"},scopedSlots:t._u([{key:"default",fn:function(t){return[t.row.ns_access?e("i",{staticClass:"el-icon-check"}):e("i",{staticClass:"el-icon-close"})]}}])}),e("el-table-column",{attrs:{prop:"group_id","show-overflow-tooltip":"",width:"120"},scopedSlots:t._u([{key:"header",fn:function(){return[e("el-dropdown",{attrs:{placement:"bottom"}},[e("el-button",{staticClass:"head-color",staticStyle:{"font-size":"16px"},attrs:{type:"text"}},[t._v(" 分组 "),e("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e("el-dropdown-menu",{staticClass:"group",staticStyle:{width:"200px"},attrs:{slot:"dropdown"},slot:"dropdown"},[e("el-dropdown-item",{nativeOn:{click:function(e){return t.addGroup.apply(null,arguments)}}},[t._v("添加分组")]),e("el-dropdown-item",{nativeOn:{click:function(e){return t.selectDomain(-1)}}},[t._v("全部")]),e("el-dropdown-item",{nativeOn:{click:function(e){return t.selectDomain(0)}}},[t._v("未分组")]),t._l(t.groupList,(function(i,o){return e("el-dropdown-item",{key:o,staticStyle:{position:"relative"}},[e("span",{staticStyle:{display:"inline-block",width:"150px"},on:{click:function(e){return t.selectDomain(i)}}},[t._v(t._s(i.name))]),e("i",{staticClass:"el-icon-edit",staticStyle:{position:"absolute",right:"20px",top:"12px"},on:{click:function(e){return t.editGroup(i.id)}}}),e("i",{staticClass:"el-icon-delete",staticStyle:{position:"absolute",right:"0",top:"12px"},on:{click:function(e){return t.delGroup(i.id)}}})])}))],2)],1)]},proxy:!0}])}),e("el-table-column",{attrs:{prop:"user_id","show-overflow-tooltip":"",width:"120"},scopedSlots:t._u([1==t.uid?{key:"header",fn:function(){return[e("el-dropdown",{attrs:{placement:"bottom"}},[e("el-button",{staticClass:"head-color",staticStyle:{"font-size":"16px"},attrs:{type:"text"}},[t._v(" 用户 "),e("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e("el-dropdown-menu",{staticClass:"group",attrs:{slot:"dropdown"},slot:"dropdown"},[e("el-dropdown-item",{nativeOn:{click:function(e){return t.selectUser(0)}}},[t._v("全部")]),t._l(t.userList,(function(i,o){return e("el-dropdown-item",{key:o,nativeOn:{click:function(e){return t.selectUser(i.id)}}},[t._v(t._s(i.user))])}))],2)],1)]},proxy:!0}:{key:"header",fn:function(){return[e("span",[t._v("用户")])]},proxy:!0},{key:"default",fn:function(i){return[0==t.uid?e("el-button",{attrs:{type:"text",size:"mini",icon:"el-icon-user"},on:{click:function(e){return t.selectUid(i.row.uid)}}}):t._e(),t.uid>0?e("el-button",{attrs:{type:"text",size:"mini",icon:"el-icon-user-solid"},on:{click:function(e){return t.selectUid(0)}}}):t._e(),t._v(t._s(i.row.user_id)+" ")]}}],null,!0)}),e("el-table-column",{attrs:{label:"创建时间",width:"150",prop:"created_at",formatter:t.formatter},scopedSlots:t._u([{key:"header",fn:function(){return[t.t?e("div",{on:{click:function(e){return t.shunxu("down")}}},[t._v("创建时间 "),e("i",{staticClass:"el-icon-caret-top",staticStyle:{position:"absolute",left:"79px"}}),e("i",{staticClass:"el-icon-caret-bottom",staticStyle:{position:"absolute",left:"79px",top:"9px",color:"#ddd"}})]):e("div",{on:{click:function(e){return t.shunxu("up")}}},[t._v("创建时间 "),e("i",{staticClass:"el-icon-caret-top",staticStyle:{position:"absolute",left:"79px",color:"#ddd"}}),e("i",{staticClass:"el-icon-caret-bottom",staticStyle:{position:"absolute",left:"79px",top:"9px"}})])]},proxy:!0}])}),e("el-table-column",{attrs:{prop:"comment",label:"备注","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(i){return[e("el-button",{attrs:{type:"text"},on:{click:function(e){return t.noteDomain(i.row)}}},[t._v(t._s(i.row.comment||""))])]}}])}),e("el-table-column",{attrs:{label:"操作",width:"120"},scopedSlots:t._u([{key:"default",fn:function(i){return[e("div",[e("el-button",{attrs:{type:"text"},on:{click:function(e){return t.Torecord(i.row)}}},[t._v("解析")]),e("el-dropdown",{staticClass:"more",attrs:{placement:"bottom"}},[e("el-button",{attrs:{type:"text"}},[t._v(" 更多 "),e("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e("el-dropdown-menu",{staticClass:"drop",attrs:{slot:"dropdown"},slot:"dropdown"},[e("div",{staticClass:"more-list"},[e("el-dropdown-item",{nativeOn:{click:function(e){return t.delDomain(i.row)}}},[t._v("删除")]),i.row.is_on?e("el-dropdown-item",{nativeOn:{click:function(e){return t.stopDomain(i.row)}}},[t._v("暂停")]):e("el-dropdown-item",{nativeOn:{click:function(e){return t.startDomain(i.row)}}},[t._v("启用")]),e("el-dropdown-item",{nativeOn:{click:function(e){return t.noteDomain(i.row)}}},[t._v("备注")]),i.row.ns_access?e("el-dropdown-item",{nativeOn:{click:function(e){return t.stopDcc(i.row)}}},[t._v("关闭加速")]):e("el-dropdown-item",{nativeOn:{click:function(e){return t.startDcc(i.row)}}},[t._v("开启加速")])],1)])],1)],1)]}}])})],1),e("div",{staticClass:"footer-page",staticStyle:{"margin-top":"20px"}},[e("div",[e("el-dropdown",{attrs:{placement:"bottom"}},[e("el-button",{staticClass:"foot",staticStyle:{"font-size":"16px","border-color":"#ddd",padding:"8px 20px",background:"#fff",color:"#666",margin:"0 10px 0 25px"},attrs:{type:"text"}},[t._v(" 移到分组 "),e("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e("el-dropdown-menu",{staticClass:"group",staticStyle:{width:"200px"},attrs:{slot:"dropdown"},slot:"dropdown"},[e("el-dropdown-item",{nativeOn:{click:function(e){return t.addGroup.apply(null,arguments)}}},[t._v("添加分组")]),t._l(t.groupList,(function(i,o){return e("el-dropdown-item",{key:o,staticStyle:{position:"relative"}},[e("span",{staticStyle:{display:"inline-block",width:"150px"},on:{click:function(e){return t.moveGroup(i.id)}}},[t._v(t._s(i.name))]),e("i",{staticClass:"el-icon-edit",staticStyle:{position:"absolute",right:"20px",top:"12px"},on:{click:function(e){return t.editGroup(i.id)}}}),e("i",{staticClass:"el-icon-delete",staticStyle:{position:"absolute",right:"0",top:"12px"},on:{click:function(e){return t.delGroup(i.id)}}})])}))],2)],1),e("el-button",{staticClass:"footer-b anniu",nativeOn:{click:function(e){return t.startDomain.apply(null,arguments)}}},[t._v("启用")]),e("el-button",{staticClass:"footer-b anniu",nativeOn:{click:function(e){return t.stopDomain.apply(null,arguments)}}},[t._v("暂停")]),e("el-button",{staticClass:"footer-b anniu",nativeOn:{click:function(e){return t.delDomain.apply(null,arguments)}}},[t._v("删除")]),e("el-button",{staticClass:"footer-b anniu",nativeOn:{click:function(e){return t.moveDomain.apply(null,arguments)}}},[t._v("过户")])],1),e("el-dialog",{attrs:{title:"域名过户",visible:t.userFormVisible},on:{"update:visible":function(e){t.userFormVisible=e}}},[e("span",[t._v("选择用户：")]),e("el-autocomplete",{staticStyle:{width:"200px"},attrs:{"fetch-suggestions":t.querySearchAsync,placeholder:"请输入内容","value-key":"user"},on:{select:t.handleSelect},model:{value:t.state,callback:function(e){t.state=e},expression:"state"}}),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){t.userFormVisible=!1}}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary"},on:{click:t.move}},[t._v("确 定")])],1)],1),e("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":[10,30,50,100,500,1e3],"page-size":t.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:t.count,background:"","pager-count":5},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)},a=[],s=(i("88a7"),i("271a"),i("5494"),i("ce8a")),n={name:"",components:{},data(){return{gid1:"",groupvalue:"",state:"",add:!0,addr:!0,update:!0,del:!0,record:!0,count:0,indeterminate:!1,option:"",addDominRules:{domain:{required:!0,message:"请输入域名",trigger:"blur"}},addDominRulesf:{domain:{required:!0,message:"请输入域名",trigger:"blur"}},checked:!1,addForm:{domain:"",pid:"",gid:"",note:""},addFormf:{domain:"",ip:""},dialogFormVisible:!1,dialogFormVisiblef:!1,userFormVisible:!1,multipleSelection:[],currentPage:1,pagesize:10,domainList:[],groupList:[1,2,3,4],productList:[],userList:[],searchVal:"",gid:"",sid:"",uid:"",dt:"down",t:!1}},computed:{},watch:{},methods:{shunxu(t){this.t=!this.t,this.dt=t,this.getDominList()},selectUid(t){this.uid=t,this.currentPage=1,this.getDominList()},moveGroup(t){var e=this.multipleSelection.map(t=>t.id);this.$request({url:"/domain/modgid",params:{id:e.toString(),gid:t}}).then(t=>{0==t.data.rec?(this.$message.success(t.data.msg),this.getDominList()):this.$message.error(t.data.msg)})},move(){var t=this.userList.filter(t=>t.user==this.state);(void 0==t||t.length<=0)&&this.$message.error("用户错误");var e=this.multipleSelection.map(t=>t.id);this.$request({url:"/domain/moduser",params:{id:e.toString(),uid:t[0].id}}).then(t=>{this.userFormVisible=!1,0==t.data.rec?this.$message.success(t.data.msg):this.$message.error(t.data.msg),this.getDominList()})},querySearchAsync(t,e){var i=this.userList,o=i;e(o)},createFilter(t){return e=>0===e.user.toLowerCase().indexOf(t.toLowerCase())},handleSelect(t){},moveDomain(){this.userFormVisible=!0},editGroup(t){this.$prompt("","修改分组",{confirmButtonText:"确定",cancelButtonText:"取消",inputValidator:t=>null!=t||"请输入分组名称",inputPlaceholder:"请输入分组名称"}).then(({value:e})=>{this.$request({url:"/domain/group/add",params:{name:e,id:t}}).then(t=>{0==t.data.rec?(this.$message.success("修改成功"),this.getGroupList()):this.$message.error(t.data.msg)})}).catch(()=>{})},delGroup(t){this.$confirm("是否删除分组","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{this.$request({url:"/domain/group/del",params:{id:t}}).then(t=>{this.getGroupList(),0==t.data.rec?this.$message.success("删除成功"):this.$message.error(t.data.msg)})}).catch(()=>{this.$message({type:"info",message:"已取消删除"})})},selectUser(t){this.uid=t,this.currentPage=1,this.getDominList()},stateList(t){this.sid=t,this.currentPage=1,this.getDominList()},getUser(){this.$request({url:"/user/list/short"}).then(t=>{0==t.data.rec?this.userList=t.data.data.list:this.$message.error(t.data.msg)})},selectDomain(t){this.gid=t?t.id:t,this.currentPage=1,this.getDominList()},handleDownload(){var t=this.multipleSelection.map(t=>t.id);this.$request({url:"/domain/export",params:{ids:t.toString()},responseType:"blob"}).then(t=>{if("application/json"==t.data.type)this.$message({message:"企业版可用",type:"warning"});else{let e=new Blob([t.data],{type:"application/vnd.ms-excel"}),i=window.URL.createObjectURL(e),o=document.createElement("a");o.href=i,o.download="域名.xlsx",o.click(),window.URL.revokeObjectURL(i)}})},handleDownload1(){var t=this.multipleSelection.map(t=>t.id);this.$request({url:"/domain/record/export",params:{ids:t.toString()},responseType:"blob"}).then(t=>{if("application/json"==t.data.type)this.$message({message:"企业版可用",type:"warning"});else{let e=new Blob([t.data],{type:"application/vnd.ms-excel"}),i=window.URL.createObjectURL(e),o=document.createElement("a");o.href=i,o.download="域名及解析记录.xlsx",o.click(),window.URL.revokeObjectURL(i)}})},search(){this.currentPage=1,this.getDominList()},startDcc(t){this.$confirm("是否启用","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{this.$request({url:"/domain/dcc",params:{id:t.id,sv:!0}}).then(t=>{0==t.data.rec?(this.$message.success("开启成功"),this.getDominList()):this.$message.warning(t.data.msg)})}).catch(t=>{})},stopDcc(t){this.$confirm("是否关闭","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{this.$request({url:"/domain/dcc",params:{id:t.id,sv:!1}}).then(t=>{0==t.data.rec?(this.$message.success("关闭成功"),this.getDominList()):this.$message.warning(t.data.msg)})}).catch(t=>{})},startDomain(t){var e=this.multipleSelection.map(t=>t.id);this.$confirm("是否启用","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{this.$request({url:"/domain/start",params:{id:t.id||e.toString()}}).then(t=>{0==t.data.rec?(this.$message.success("启用成功"),this.getDominList()):this.$message.warning(t.data.msg)})}).catch(t=>{})},noteDomain(t){this.$prompt("",t.domain+"的备注",{confirmButtonText:"确定",cancelButtonText:"取消",inputType:"textarea",inputValidator:t=>null!=t||"请输入备注",inputPlaceholder:"请输入备注"}).then(({value:e})=>{this.$request({url:"/domain/note",params:{id:t.id,note:e}}).then(t=>{0==t.data.rec?(this.$message.success("添加成功"),this.getDominList()):this.$message.error(t.data.msg)})}).catch(()=>{})},getGroupList(){this.$request({url:"/domain/group/list"}).then(t=>{0==t.data.rec?this.groupList=t.data.data.list:this.$message.error(t.data.msg)})},getProductList(){this.$request({url:"/product/list"}).then(t=>{0==t.data.rec?this.productList=t.data.data.list:this.$message.error(t.data.msg)})},goLog(){s["a"].$emit("show","/log/opt"),this.$router.push("/log/opt")},delDomain(t){var e=this.multipleSelection.map(t=>t.id);this.$confirm("是否删除"+(t.domain||""),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{this.$request({url:"/domain/del",params:{id:t.id||e.toString()}}).then(t=>{0==t.data.rec?(this.$message.success("删除成功"),this.getDominList()):this.$message.error(t.data.msg)})}).catch(()=>{this.$message({type:"info",message:"已取消删除"})})},stopDomain(t){var e=this.multipleSelection.map(t=>t.id);this.$confirm("是否暂停","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{this.$request({url:"/domain/stop",params:{id:t.id||e.toString()}}).then(t=>{0==t.data.rec?(this.$message.success("暂停成功"),this.getDominList()):this.$message.error(t.data.msg)})}).catch(()=>{this.$message({type:"info",message:"已取消暂停"})})},formatter(t,e){var i=new Date(t.created_at),o=i.getFullYear(),a=i.getMonth()+1,s=i.getDate();return o+"-"+a+"-"+s},addGroup(){this.$prompt("","新建分组",{confirmButtonText:"确定",cancelButtonText:"取消",inputValidator:t=>null!=t||"请输入分组名称",inputPlaceholder:"请输入分组名称"}).then(({value:t})=>{this.$request({url:"/domain/group/add",params:{name:t}}).then(t=>{0==t.data.rec?(this.$message.success("添加成功"),this.getGroupList()):this.$message.error(t.data.msg)})}).catch(()=>{})},addDomin(){this.$request({url:"/domain/add",params:this.addForm}).then(t=>{0==t.data.rec?(this.$message.success("添加成功"),this.getDominList()):this.$message.error(t.data.msg),this.dialogFormVisible=!1})},addDominf(){this.$request({url:"/domain/add",params:this.addFormf}).then(t=>{0==t.data.rec?(this.$message.success("添加成功"),this.getDominList()):this.$message.error(t.data.msg),this.dialogFormVisiblef=!1})},async getDominList(){const{data:{data:t,total_counts:e,total_pages:i}}=await this.$request({url:"/domains",params:{page:this.currentPage,pagesize:this.pagesize,search:this.searchVal,gid:this.gid,sid:this.sid,uid:this.uid,dt:this.dt}});this.domainList=t,this.count=e},toggleAll(){this.$refs.multipleTable.toggleAllSelection()},fun({columnIndex:t}){return 8!==t?{background:"#0164F6",color:"#fff"}:8==t?{"text-align":"center",background:"#0164F6",color:"#fff","padding-right":"10px"}:void 0},toggleSelection(t){t?t.forEach(t=>{this.$refs.multipleTable.toggleRowSelection(t)}):this.$refs.multipleTable.clearSelection()},handleSelectionChange(t){this.multipleSelection=t},Torecord(t){this.$router.push("/domin/list/record?domain="+t.domain+"&id="+t.id+"&state="+t.state)},Tocount(){this.$router.push("/domin/list/count")},handleSizeChange(t){this.pagesize=t,this.getDominList()},handleCurrentChange(t){this.currentPage=t,this.getDominList()}},created(){this.gid1=localStorage.getItem("gid"),1==this.gid1&&this.getUser(),this.getDominList(),this.getGroupList(),this.getProductList()},mounted(){}},r=n,l=(i("c5e7"),i("a820"),i("2877")),c=Object(l["a"])(r,o,a,!1,null,"f1e1eb74",null);e["default"]=c.exports},"88a7":function(t,e,i){"use strict";var o=i("cb2d"),a=i("e330"),s=i("577e"),n=i("d6d6"),r=URLSearchParams,l=r.prototype,c=a(l.append),d=a(l["delete"]),u=a(l.forEach),p=a([].push),m=new r("a=1&a=2&b=3");m["delete"]("a",1),m["delete"]("b",void 0),m+""!=="a=2"&&o(l,"delete",(function(t){var e=arguments.length,i=e<2?void 0:arguments[1];if(e&&void 0===i)return d(this,t);var o=[];u(this,(function(t,e){p(o,{key:e,value:t})})),n(e,1);var a,r=s(t),l=s(i),m=0,h=0,g=!1,f=o.length;while(m<f)a=o[m++],g||a.key===r?(g=!0,d(this,a.key)):h++;while(h<f)a=o[h++],a.key===r&&a.value===l||c(this,a.key,a.value)}),{enumerable:!0,unsafe:!0})},a820:function(t,e,i){"use strict";i("255f")},c5e7:function(t,e,i){"use strict";i("13e6")},ce8a:function(t,e,i){"use strict";var o=i("2b0e"),a=new o["default"]({});e["a"]=a},d6d6:function(t,e,i){"use strict";var o=TypeError;t.exports=function(t,e){if(t<e)throw new o("Not enough arguments");return t}},edd0:function(t,e,i){"use strict";var o=i("13d2"),a=i("9bf2");t.exports=function(t,e,i){return i.get&&o(i.get,e,{getter:!0}),i.set&&o(i.set,e,{setter:!0}),a.f(t,e,i)}},f5df:function(t,e,i){"use strict";var o=i("00ee"),a=i("1626"),s=i("c6b6"),n=i("b622"),r=n("toStringTag"),l=Object,c="Arguments"===s(function(){return arguments}()),d=function(t,e){try{return t[e]}catch(i){}};t.exports=o?s:function(t){var e,i,o;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=d(e=l(t),r))?i:c?s(e):"Object"===(o=s(e))&&a(e.callee)?"Arguments":o}}}]);