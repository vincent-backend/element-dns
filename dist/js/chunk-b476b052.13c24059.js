(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b476b052"],{"78e2":function(t,e,a){"use strict";a("958c")},"8e31":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{},[e("div",{staticClass:"domin-manage"},[t._v("实时节点资源   "),e("el-select",{attrs:{placeholder:"切换节点"},on:{change:t.goToIp},model:{value:t.toip,callback:function(e){t.toip=e},expression:"toip"}},t._l(t.ipl,(function(t){return e("el-option",{key:t.ip,attrs:{label:`${t.name}_${t.ip}`,value:t.ip}})})),1),t._v(" "),"5m"!=t.t?e("el-button",{staticStyle:{width:"80px",margin:"0px 20px"},attrs:{type:"primary"},on:{click:t.sub5m}},[t._v("五分钟")]):t._e(),t._v(" "),"1h"!=t.t?e("el-button",{staticStyle:{width:"80px",margin:"0px 20px"},attrs:{type:"primary"},on:{click:t.sub1h}},[t._v("按小时")]):t._e(),t._v(" "),"1d"!=t.t?e("el-button",{staticStyle:{width:"80px",margin:"0px 20px"},attrs:{type:"primary"},on:{click:t.sub1d}},[t._v("按天")]):t._e()],1),e("el-row",{attrs:{gutter:25}},[e("el-col",{attrs:{span:24}},[e("el-card",{staticClass:"box-card tab"},[e("div",{ref:"main",staticStyle:{width:"100%",height:"330px",top:"10px"}})])],1)],1),e("el-row",{attrs:{gutter:25}},[e("el-col",{attrs:{span:24}},[e("el-card",{staticClass:"box-card tab"},[e("div",{ref:"main1",staticStyle:{width:"100%",height:"330px",top:"10px"}})])],1)],1),e("el-row",{attrs:{gutter:25}},[e("el-col",{attrs:{span:24}},[e("el-card",{staticClass:"box-card tab"},[e("div",{ref:"main2",staticStyle:{width:"100%",height:"330px",top:"10px"}})])],1)],1)],1)},s=[],o=(a("14d9"),a("313e")),r=a.n(o),l={name:"",components:{},data(){return{data:{},ipl:{},toip:"",t:"",otimer:null}},computed:{},watch:{},methods:{sub5m(){this.$router.push("/node/chart?ip="+this.$route.query.ip+"&t=5m")},sub1h(){this.$router.push("/node/chart?ip="+this.$route.query.ip+"&t=1h")},sub1d(){this.$router.push("/node/chart?ip="+this.$route.query.ip+"&t=1d")},goToIp(){this.$router.push("/node/top?ip="+this.toip),this.count()},echart(){var t=r.a.init(this.$refs.main),e={xAxis:{type:"category",data:[]},grid:{x:50,x2:30,y:50,y2:38},yAxis:{type:"value",min:0,max:this.data.dmi.lmx,interval:this.data.dmi.liv,axisLabel:{show:!0},axisTick:{show:!0},axisLine:{show:!0}},title:{left:"35px",text:"系统负载"},tooltip:{trigger:"axis"},legend:{data:["1min","5min","15min"]},series:[{data:[],name:"1min",type:"line",showSymbol:!0,hoverAnimation:!0,data:[],symbolSize:8,showSymbol:!0},{data:[],name:"5min",type:"line",showSymbol:!0,hoverAnimation:!0,data:[],symbolSize:8,showSymbol:!0,itemStyle:{normal:{color:"blue",lineStyle:{color:"blue"}}}},{data:[],name:"15min",type:"line",showSymbol:!0,hoverAnimation:!0,data:[],symbolSize:8,showSymbol:!0,itemStyle:{normal:{color:"orange",lineStyle:{color:"orange"}}}}]};e.xAxis.data=this.data.load.map(t=>t.time),e.series[0].data=this.data.load.map(t=>t.load1),e.series[1].data=this.data.load.map(t=>t.load5),e.series[2].data=this.data.load.map(t=>t.load15),t.setOption(e)},echart1(){var t=r.a.init(this.$refs.main1),e={xAxis:{type:"category",data:[]},grid:{x:50,x2:30,y:50,y2:38},yAxis:{type:"value",min:0,max:this.data.dmi.mmx,interval:this.data.dmi.miv,axisLabel:{show:!0},axisTick:{show:!0},axisLine:{show:!0}},title:{left:"35px",text:"实时内存",subtext:"单位（G）"},tooltip:{trigger:"axis"},legend:{data:["使用内存","空闲内存"]},series:[{data:[],name:"使用内存",type:"line",showSymbol:!0,hoverAnimation:!0,data:[],symbolSize:8,showSymbol:!0,itemStyle:{normal:{color:"blue",lineStyle:{color:"blue"}}}},{data:[],name:"空闲内存",type:"line",showSymbol:!0,hoverAnimation:!0,data:[],symbolSize:8,showSymbol:!0,itemStyle:{normal:{color:"orange",lineStyle:{color:"orange"}}}}]};e.xAxis.data=this.data.mem.map(t=>t.time),e.series[0].data=this.data.mem.map(t=>t.used),e.series[1].data=this.data.mem.map(t=>t.free),t.setOption(e)},echart2(){var t=r.a.init(this.$refs.main2),e={xAxis:{type:"category",data:[]},grid:{x:50,x2:30,y:50,y2:38},yAxis:{type:"value",min:0,max:this.data.dmi.nmx,interval:this.data.dmi.niv,axisLabel:{show:!0},axisTick:{show:!0},axisLine:{show:!0}},title:{left:"35px",text:"实时流量",subtext:`单位（${this.data.nbit}）`},tooltip:{trigger:"axis"},legend:{data:["发送流量","接收流量"]},series:[{data:[],name:"发送流量",type:"line",showSymbol:!0,hoverAnimation:!0,data:[],symbolSize:8,showSymbol:!0,itemStyle:{normal:{color:"blue",lineStyle:{color:"blue"}}}},{data:[],name:"接收流量",type:"line",showSymbol:!0,hoverAnimation:!0,data:[],symbolSize:8,showSymbol:!0,itemStyle:{normal:{color:"orange",lineStyle:{color:"orange"}}}}]};e.xAxis.data=this.data.net.map(t=>t.time),e.series[0].data=this.data.net.map(t=>t.bytesSent),e.series[1].data=this.data.net.map(t=>t.bytesRecv),t.setOption(e)},count(){this.$request({url:"/sys/reslog",params:{ip:this.$route.query.ip,id:this.$route.query.id}}).then(t=>{if(0==t.data.rec){var e=this.$route.query.ip+":8002";this.data=t.data.data[e],this.echart(),this.echart1(),this.echart2()}else this.$message.error(t.data.msg)}),this.otimer=setInterval(()=>{this.$request({url:"/sys/reslog",params:{ip:this.$route.query.ip,id:this.$route.query.id}}).then(t=>{if(0==t.data.rec){var e=this.$route.query.ip+":8002";this.data=t.data.data[e],this.echart(),this.echart1(),this.echart2()}else clearInterval(this.otimer)})},1e3)},getIpList(){this.$request({url:"/domain/res/ip/list"}).then(t=>{0==t.data.rec?this.ipl=t.data.data:this.$message.error(t.data.msg)})}},created(){},mounted(){this.getIpList(),this.count(),this.$once("hook:beforeDestroy",()=>{clearInterval(this.otimer)})}},n=l,h=(a("78e2"),a("2877")),m=Object(h["a"])(n,i,s,!1,null,"10a78adc",null);e["default"]=m.exports},"958c":function(t,e,a){}}]);