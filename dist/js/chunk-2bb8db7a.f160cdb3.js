(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2bb8db7a"],{"19f9":function(e,t,i){},"6ef2":function(e,t,i){"use strict";i.r(t);var o=function(){var e=this,t=e._self._c;return t("div",{},[t("div",{staticClass:"main-title"},[e._v("登录日志")]),t("el-table",{ref:"multipleTable",attrs:{size:"small","header-cell-style":e.fun,stripe:"",data:e.loginData,"tooltip-effect":"dark"},on:{"selection-change":e.handleSelectionChange}},[t("el-table-column",{attrs:{prop:"",label:"",width:"30"}}),t("el-table-column",{attrs:{prop:"id",label:"序号",width:"120"}}),t("el-table-column",{attrs:{prop:"uid","show-overflow-tooltip":"",label:"用户",width:"200"},scopedSlots:e._u([{key:"default",fn:function(i){return[0==e.uid?t("el-button",{attrs:{type:"text",size:"mini",icon:"el-icon-user"},on:{click:function(t){return e.selectUid(i.row.uid)}}}):e._e(),e.uid>0?t("el-button",{attrs:{type:"text",size:"mini",icon:"el-icon-user-solid"},on:{click:function(t){return e.selectUid(0)}}}):e._e(),e._v(" "+e._s(i.row.uname)+" ")]}}])}),t("el-table-column",{attrs:{prop:"ip","show-overflow-tooltip":"",label:"IP",width:"300"}}),t("el-table-column",{attrs:{prop:"msg","show-overflow-tooltip":"",label:"内容",width:"300"}}),t("el-table-column",{attrs:{prop:"rtime",label:"时间"}})],1),t("div",{staticClass:"footer-page",staticStyle:{"margin-top":"20px"}},[t("el-pagination",{staticStyle:{width:"100%","text-align":"right"},attrs:{"current-page":e.currentPage,"page-sizes":[10,30,50,100,500,1e3],"page-size":e.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:e.count,background:"","pager-count":5},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},l=[],a=(i("14d9"),{name:"",components:{},data(){return{pagesize:10,count:0,uid:0,loginData:[],multipleSelection:[],currentPage:1,formLabelWidth:"120px",form:{name:"",region:"",date1:"",date2:"",delivery:!1,type:[],resource:"",desc:""},dialogFormVisible:!1}},computed:{},watch:{},methods:{selectUid(e){this.uid=e,this.currentPage=1,this.getLoginLog()},getLoginLog(){this.$request({url:"/user/loginlog",params:{page:this.currentPage,pagesize:this.pagesize,uid:this.uid}}).then(e=>{0==e.data.rec?(this.loginData=e.data.data.list,this.count=e.data.data.count):this.$message.error(e.data.msg)})},toggleAll(){this.$refs.multipleTable.toggleAllSelection()},fun({columnIndex:e}){return 7!==e&&0!=e?{background:"#0164F6",color:"#fff",height:"40px"}:0==e?{background:"#0164F6",color:"#fff","padding-left":"10px",height:"40px"}:4==e?{"text-align":"right",background:"#0164F6",color:"#fff","padding-right":"10px",height:"40px"}:void 0},toggleSelection(e){e?e.forEach(e=>{this.$refs.multipleTable.toggleRowSelection(e)}):this.$refs.multipleTable.clearSelection()},handleSelectionChange(e){this.multipleSelection=e},Towatch(){this.$router.push("/domin/list/watch")},Torecord(){this.$router.push("/domin/list/record")},Tocount(){this.$router.push("/domin/list/count")},handleSizeChange(e){this.pagesize=e,this.getLoginLog()},handleCurrentChange(e){this.currentPage=e,this.getLoginLog()}},created(){this.getLoginLog()},mounted(){}}),n=a,r=(i("c211"),i("2877")),s=Object(r["a"])(n,o,l,!1,null,"5eb4cbc0",null);t["default"]=s.exports},c211:function(e,t,i){"use strict";i("19f9")}}]);