(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5cc5d82a"],{"2a41":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t._self._c;return e("div",{},[e("div",{staticClass:"domin-manage"},[t._v("监控设置")]),e("el-card",[e("div",{staticClass:"drawer"},[e("span",[t._v("监控节点")]),e("span",{staticClass:"mid"},[t._v("我们将从三个节点进行监控")]),e("el-button",{attrs:{type:"text"},on:{click:function(e){t.dialogFormVisible=!0}}},[t._v("修改")])],1),e("div",{staticClass:"drawer"},[e("span",[t._v("监控频率")]),e("span",{staticClass:"mid"},[t._v("每十分钟一次")]),e("el-button",{attrs:{type:"text"},on:{click:function(e){t.dialogFormVisible=!0}}},[t._v("修改")])],1),e("div",{staticClass:"drawer"},[e("span",[t._v("监控任务")]),e("span",{staticClass:"mid"},[t._v("测试dnsbm是否访问正常")]),e("el-button",{attrs:{type:"text"},on:{click:function(e){t.dialogFormVisible=!0}}},[t._v("修改")])],1),e("div",{staticClass:"drawer"},[e("span",[t._v("切换规则")]),e("span",{staticClass:"mid"},[t._v("当确定某台服务器无法正常访问后，不对该域名记录做任何修改")]),e("el-button",{attrs:{type:"text"},on:{click:function(e){t.dialogFormVisible=!0}}},[t._v("修改")])],1),e("div",{staticClass:"drawer"},[e("span",[t._v("通知设置")]),e("span",{staticClass:"mid"},[t._v("宕机时会通过邮件指定联系人")]),e("el-button",{attrs:{type:"text"},on:{click:function(e){t.dialogFormVisible=!0}}},[t._v("修改")])],1)]),e("el-dialog",{attrs:{title:"dnsbm",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[e("el-form",{attrs:{model:t.form}},[e("el-form-item",{attrs:{label:"监控频率","label-width":t.formLabelWidth}},[e("el-radio",{attrs:{label:10},model:{value:t.form.freq,callback:function(e){t.$set(t.form,"freq",e)},expression:"form.freq"}},[t._v("10分钟/次")])],1),e("el-form-item",{attrs:{label:"主机头","label-width":t.formLabelWidth}},[e("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.domain,callback:function(e){t.$set(t.form,"domain",e)},expression:"form.domain"}})],1),e("el-form-item",{attrs:{label:"路径","label-width":t.formLabelWidth}},[e("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.path,callback:function(e){t.$set(t.form,"path",e)},expression:"form.path"}})],1),e("el-form-item",{attrs:{label:"端口","label-width":t.formLabelWidth}},[e("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.port,callback:function(e){t.$set(t.form,"port",e)},expression:"form.port"}})],1),e("el-form-item",{attrs:{label:"HTTPS","label-width":t.formLabelWidth}},[e("el-checkbox",{model:{value:t.form.https,callback:function(e){t.$set(t.form,"https",e)},expression:"form.https"}})],1),e("el-form-item",{attrs:{label:"切换规则","label-width":t.formLabelWidth}},[e("el-radio-group",{model:{value:t.form.act,callback:function(e){t.$set(t.form,"act",e)},expression:"form.act"}},[e("el-radio",{staticStyle:{"margin-bottom":"10px","margin-top":"15px"},attrs:{label:0}},[t._v("不对该域名记录做任何修改(不切换)")]),e("el-radio",{staticStyle:{"margin-bottom":"10px"},attrs:{label:1}},[t._v("备停止解析该域名记录(智能暂停)")]),e("el-radio",{staticStyle:{"margin-bottom":"10px"},attrs:{label:2}},[t._v("切换到您设置的备用IP(自定义切换)")]),e("el-radio",{staticStyle:{"margin-bottom":"10px"},attrs:{label:3}},[t._v("切换到其他可用的IP(智能切换)")])],1)],1),e("el-form-item",{attrs:{label:"通知方式","label-width":t.formLabelWidth}},[e("el-checkbox",{attrs:{label:"邮件通知"},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}}),e("el-checkbox",{attrs:{label:"短信通知"},model:{value:t.form.sms,callback:function(e){t.$set(t.form,"sms",e)},expression:"form.sms"}})],1)],1),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary"},on:{click:t.update}},[t._v("确 定")])],1)],1)],1)},s=[],i={name:"",components:{},data(){return{dialogFormVisible:!1,form:{id:"",oid:this.$route.query.oid,domain:"",path:"/",port:"80",https:"",freq:"",act:0,bip:"",email:"",sms:""},formLabelWidth:"80px"}},computed:{},watch:{},methods:{getmon(){this.$request({url:"/mon/view",params:{id:this.$route.query.id}}).then(t=>{0==t.data.rec&&(this.form=t.data.data,1==this.form.https?this.form.https=!0:this.form.https=!1,1==this.form.email?this.form.email=!0:this.form.email=!1,1==this.form.sms?this.form.sms=!0:this.form.sms=!1)})},update(){1==this.form.https?this.form.https=1:this.form.https=0,1==this.form.email?this.form.email=1:this.form.email=0,1==this.form.sms?this.form.sms=1:this.form.sms=0,this.$request({url:"/mon/add",params:this.form}).then(t=>{0==t.data.rec?(this.$message.success("监控/修改成功"),this.getmon(),this.dialogFormVisible=!1):this.$message.error(t.data.msg)})}},created(){this.form.domain=this.$route.query.host+"."+this.$route.query.domain,this.getmon()},mounted(){}},l=i,r=(a("d965"),a("2877")),m=Object(r["a"])(l,o,s,!1,null,"48aa2148",null);e["default"]=m.exports},d965:function(t,e,a){"use strict";a("ee46")},ee46:function(t,e,a){}}]);