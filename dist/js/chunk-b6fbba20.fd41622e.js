(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b6fbba20"],{"018b":function(e,t,i){},1815:function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e._self._c;return t("div",{},[t("div",{staticClass:"main-title"},[e._v("开通记录")]),t("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{size:"small","header-cell-style":e.fun,stripe:"",data:e.NodeList,"tooltip-effect":"dark"}},[t("el-table-column",{attrs:{prop:"",label:"",width:"30"}}),t("el-table-column",{attrs:{prop:"name",label:"套餐名称",width:"200"}}),t("el-table-column",{attrs:{prop:"domain",label:"开通域名",width:"400"}}),t("el-table-column",{attrs:{prop:"uid",label:"用户",width:"220"},scopedSlots:e._u([{key:"default",fn:function(i){return[0==e.uid?t("el-button",{attrs:{type:"text",size:"mini",icon:"el-icon-user"},on:{click:function(t){return e.selectUid(i.row.uid)}}}):e._e(),e.uid>0?t("el-button",{attrs:{type:"text",size:"mini",icon:"el-icon-user-solid"},on:{click:function(t){return e.selectUid(0)}}}):e._e(),e._v(e._s(i.row.uname)+" ")]}}])}),t("el-table-column",{attrs:{prop:"rtime",label:"开通时间","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(e){return[t("div")]}}])})],1),t("div",{staticClass:"footer-page",staticStyle:{"margin-top":"20px","text-align":"right"}},[t("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,30,50,100,500,1e3],"page-size":e.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:e.count,background:"","pager-count":5},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},a=[],r={data(){return{text:"",form:{name:"",lid:"",bw:"",fw:"",p1:"",p2:"",waf:"",wcc:"",utime:"",lidlist:[]},deviceRules:{name:[{required:!0,message:"请输入名称",trigger:"blur"}]},multipleSelection:[],currentPage:1,formLabelWidth:"80px",deviceForm:{},dialogFormVisible:!1,addDialogFormVisible:!1,NodeList:[],count:0,pagesize:10,nin:0,uid:0}},computed:{},watch:{},methods:{selectUid(e){this.uid=e,this.currentPage=1,this.getNodeList()},getLidList(){this.$request({url:"/node/line/list"}).then(e=>{0==e.data.rec?this.form.lidlist=e.data.data.list:this.$message.error(e.data.msg)})},addDevice(){this.$request({url:"/product/add",params:this.form}).then(e=>{0==e.data.rec?(this.$message.success(e.data.msg),this.addDialogFormVisible=!1,this.getNodeList()):(this.$message.error(e.data.msg),this.addDialogFormVisible=!1)})},delDevice(e){this.$confirm("删除套餐, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{this.$request({url:"/product/del",params:{id:e.id}}).then(e=>{0==e.data.rec?(this.$message.success("删除成功"),this.getNodeList()):this.$message.error(e.data.msg)})}).catch(()=>{this.$message({type:"info",message:"已取消删除"})})},updateShow(e){this.dialogFormVisible=!0,this.deviceForm=e},updateDevice(e){this.$request({url:"/product/add",params:this.deviceForm}).then(e=>{0==e.data.rec?(this.$message.success("修改成功"),this.dialogFormVisible=!1,this.getNodeList()):this.$message.error(e.data.msg)})},getNodeList(){this.$request({url:"/product/log",params:{page:this.currentPage,pagesize:this.pagesize,uid:this.uid}}).then(e=>{0==e.data.rec?(this.count=e.data.data.count,this.NodeList=e.data.data.list):this.$message.error(e.data.msg)})},fun({columnIndex:e}){return 7!==e||7==e?{height:"49px",background:"#0164F6",color:"#fff"}:void 0},handleSizeChange(e){this.pagesize=e,this.getNodeList()},handleCurrentChange(e){this.currentPage=e,this.getNodeList()}},created(){this.nin=localStorage.getItem("nin"),1==this.nin&&(this.text=""),this.getNodeList()},mounted(){}},o=r,l=(i("e59b"),i("2877")),n=Object(l["a"])(o,s,a,!1,null,"58569d24",null);t["default"]=n.exports},e59b:function(e,t,i){"use strict";i("018b")}}]);